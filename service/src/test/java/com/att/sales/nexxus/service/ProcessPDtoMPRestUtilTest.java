package com.att.sales.nexxus.service;

import static org.mockito.Mockito.anyList;
import static org.mockito.Mockito.anyLong;
import static org.mockito.Mockito.anyMap;
import static org.mockito.Mockito.doNothing;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.HashSet;
import java.util.List;
import java.util.Map;
import java.util.Set;

import org.junit.Before;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.extension.ExtendWith;
import org.junit.runner.RunWith;
import org.mockito.InjectMocks;
import org.mockito.Mock;
import org.mockito.Mockito;
import org.mockito.junit.MockitoJUnitRunner;
import org.mockito.junit.jupiter.MockitoExtension;
import org.springframework.test.util.ReflectionTestUtils;

import com.att.sales.framework.exception.SalesBusinessException;
import com.att.sales.nexxus.constant.CustomJsonConstants;
import com.att.sales.nexxus.constant.MyPriceConstants;
import com.att.sales.nexxus.constant.StringConstants;
import com.att.sales.nexxus.dao.model.NxDesign;
import com.att.sales.nexxus.dao.model.NxDesignDetails;
import com.att.sales.nexxus.dao.model.NxLookupData;
import com.att.sales.nexxus.dao.model.solution.NxSolutionDetail;
import com.att.sales.nexxus.dao.repository.NxDesignRepository;
import com.att.sales.nexxus.dao.repository.NxLookupDataRepository;
import com.att.sales.nexxus.dao.repository.NxMpDesignDocumentRepository;
import com.att.sales.nexxus.dao.repository.NxMpPriceDetailsRepository;
import com.att.sales.nexxus.dao.repository.NxSolutionDetailsRepository;
import com.att.sales.nexxus.myprice.transaction.model.CreateTransactionResponse;
import com.att.sales.nexxus.myprice.transaction.model.GetTransactionLineItem;
import com.att.sales.nexxus.myprice.transaction.model.GetTransactionLineResponse;
import com.att.sales.nexxus.myprice.transaction.model.RemoveTransactionLineResponse;
import com.att.sales.nexxus.myprice.transaction.model.UpdateTransactionPricingResponse;
import com.att.sales.nexxus.myprice.transaction.service.ConfigAndUpdateRestProcessingService;
import com.att.sales.nexxus.myprice.transaction.service.GetTransactionLineServiceImpl;
import com.att.sales.nexxus.myprice.transaction.service.MyPriceTransactionUtil;
import com.att.sales.nexxus.myprice.transaction.service.RemoveTransactionServiceLineImpl;
import com.att.sales.nexxus.myprice.transaction.service.UpdateTransactionPricingServiceForSolutionImpl;
import com.att.sales.nexxus.util.JsonPathUtil;
import com.fasterxml.jackson.databind.JsonNode;
import com.fasterxml.jackson.databind.ObjectMapper;

@ExtendWith(MockitoExtension.class)
public class ProcessPDtoMPRestUtilTest {

	@InjectMocks
	private ProcessPDtoMPRestUtil processPDtoMPRestUtil;

	@Mock
	private ConfigAndUpdateRestProcessingService configAndUpdateRestProcessingService;

	@Mock
	private GetTransactionLineServiceImpl getTransactionLineServiceImpl;

	@Mock
	private NxMpDesignDocumentRepository nxMpDesignDocumentRepo;

	@Mock
	private NxSolutionDetailsRepository nxSolutionDetailsRepository;

	@Mock
	private NxDesignRepository nxDesignRepository;

	@Mock
	private MyPriceTransactionUtil myPriceTransactionUtil;

	@Mock
	private UpdateTransactionPricingServiceForSolutionImpl updateTransactionPricingServiceForSolutionImpl;

	@Mock
	private NxLookupDataRepository nxLookupDataRepository;

	@Mock
	private JsonPathUtil jsonPathUtil;
	
	@Mock
	private RemoveTransactionServiceLineImpl removeTransactionServiceLineImpl;
	
	@Mock
	private NxMpPriceDetailsRepository nxMpPriceDetailsRepository;

	NxDesign nxDesign;
	Map<String, Object> paramMap;
	CreateTransactionResponse createTransactionResponse;
	JsonNode siteJson;
	List<Long> nxDesignIdListToUpdate;
	String asrItemId;
	ObjectMapper mapper;
	GetTransactionLineResponse getTransactionLineResponse;
	
	@BeforeEach
	public void setUp() throws IOException {
		ReflectionTestUtils.setField(processPDtoMPRestUtil, "documentId", "34345");
		nxDesign = new NxDesign();
		List<NxDesignDetails> designDetailList = new ArrayList<>();
		NxDesignDetails nxDesignDetails = new NxDesignDetails();
		nxDesignDetails.setDesignData(
				"{\"nxSiteId\":455544,\"siteId\":99988944789,\"npanxx\":\"215222\",\"address1\":\"3701 MARKET ST\",\"city\":\"PHILADELPHIA\",\"state\":\"PA\","
						+ "\"saLecName\":null,\"speedId\":null,\"saLecSwClli\":null,\"popClli\":null,\"country\":\"US\",\"macdType\":\"Add\",\"macdActivity\":\"New Start UNI/Port\",\"fromInventory\":null,\"dualSiteId\":null,\"onNetCheck\":null,\"ethernetVendor\":null,\"designSiteOfferPort\":[{\"designStatus\":null,\"typeOfInventory\":null,\"milesResult\":null,\"securityDesignDetails\":null,\"macdActivityType\":null,\"component\":[{\"componentCodeId\":10,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Connection\",\"componentId\":null,\"externalField\":null,\"parentComponentId\":null,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[30595],\"udfId\":20030,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":\"Site Type\"},{\"udfAttributeId\":[30515],\"udfId\":20017,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":\"ServiceId\"}],\"routeTargets\":null,\"references\":null},{\"componentCodeId\":30,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Port\",\"componentId\":null,\"externalField\":null,\"parentComponentId\":null,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[301475],\"udfId\":20173,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":20184,\"readOnly\":null,\"udfAttributeText\":[\"PHLEPAXP\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":20169,\"readOnly\":null,\"udfAttributeText\":[\"100000899358\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301473],\"udfId\":20171,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300302],\"udfId\":20013,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300249],\"udfId\":200006,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300250],\"udfId\":200008,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200009,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[302000],\"udfId\":200010,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200011,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30605],\"udfId\":200012,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200013,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300278],\"udfId\":200018,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300289],\"udfId\":200020,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300293],\"udfId\":200021,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301475],\"udfId\":200022,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200027,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[74933],\"udfId\":200031,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200032,\"readOnly\":null,\"udfAttributeText\":[\"0\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300364],\"udfId\":200033,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300367],\"udfId\":200035,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300370],\"udfId\":200036,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300373],\"udfId\":200037,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300378],\"udfId\":200040,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200048,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300402],\"udfId\":200058,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[55065],\"udfId\":200059,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200060,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200075,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200079,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200014,\"readOnly\":null,\"udfAttributeText\":[\"2020-08-03 00:00:00.0\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200017,\"readOnly\":null,\"udfAttributeText\":[\"Recap\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[300359],\"udfId\":200029,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200045,\"readOnly\":null,\"udfAttributeText\":[\"PHLAPAEV\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200057,\"readOnly\":null,\"udfAttributeText\":[\"testr\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":200062,\"readOnly\":null,\"udfAttributeText\":[\"VERIZON PENNSYLVANIA, INC.\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[55042],\"udfId\":200133,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301508],\"udfId\":200134,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":22018,\"readOnly\":null,\"udfAttributeText\":[\"38A\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":22019,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":22020,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":22021,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605128],\"udfId\":21860,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605128],\"udfId\":21861,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[55065],\"udfId\":21862,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605334],\"udfId\":21960,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":21961,\"readOnly\":null,\"udfAttributeText\":[\"0.22\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605339],\"udfId\":21962,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null}],\"routeTargets\":null,\"references\":null},{\"componentCodeId\":60,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Access\",\"componentId\":null,\"externalField\":null,\"parentComponentId\":null,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[30132],\"udfId\":20002,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30334],\"udfId\":20008,\"readOnly\":null,\"udfAttributeText\":null,\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":22013,\"readOnly\":null,\"udfAttributeText\":[\"25\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":null,\"udfId\":22018,\"readOnly\":null,\"udfAttributeText\":[\"38A\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null}],\"routeTargets\":null,\"references\":null}],\"routerDetails\":null,\"logicalChannelDetail\":null,\"customDesign\":null,\"accessPricingAQ\":null,\"aggregateBilling\":null,\"portValidationMessage\":null,\"voiceFeatureDetail\":null}],\"priceDetails\":{\"componentDetails\":[{\"componentCodeId\":null,\"componentCodeType\":null,\"componentId\":99988944789,\"componentType\":\"Site\",\"componentParentId\":6513462,\"componentAttributes\":[{\"componentFieldName\":\"Country\",\"componentFieldValue\":\"US\"}],\"priceAttributes\":null,\"scpPriceMessages\":null},{\"componentCodeId\":null,\"componentCodeType\":null,\"componentId\":10820310,\"componentType\":\"Port\",\"componentParentId\":99988944789,\"componentAttributes\":[{\"componentFieldName\":\"Country\",\"componentFieldValue\":\"US\"}],\"priceAttributes\":[{\"productRateId\":0,\"beid\":\"176726S3074\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":0.0,\"targetListPrice\":null,\"icbDesiredDiscPerc\":null,\"priceType\":\"COS\",\"priceUnit\":\"Monthly\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":null,\"targetNetPrice\":null,\"localTotalPrice\":null,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":\"COS\",\"priceName\":\"100 Mb\",\"typeOfInventory\":null,\"priceInUSD\":null,\"priceScenarioId\":6495706,\"rateGroup\":\"3PA_OEM_REALTIME\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":\"ASE\",\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":null,\"requestedRate\":null,\"term\":null,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"185529S3836\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":0.0,\"targetListPrice\":null,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT\",\"priceUnit\":\"Monthly\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":null,\"targetNetPrice\":null,\"localTotalPrice\":null,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":\"PORT\",\"priceName\":\"100 Mb, 100 Mb\",\"typeOfInventory\":null,\"priceInUSD\":null,\"priceScenarioId\":6495706,\"rateGroup\":\"3PA_OEM_PORT\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":\"ASE\",\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":null,\"requestedRate\":null,\"term\":null,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null}],\"scpPriceMessages\":null}],\"priceMessage\":null},\"address\":null,\"postalCode\":null,\"siteName\":\"loc1\",\"swcClli\":null,\"customerLocationClli\":null,\"active\":null,\"emc\":null,\"carrierHotel\":null,\"attComments\":null,\"newBuilding\":null,\"customerReference\":null,\"asrItemId\":\"100000899358\",\"lataCode\":\"228\",\"zipCode\":\"19104\",\"address2\":null,\"room\":null,\"floor\":null,\"building\":null,\"siteComment\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null,\"endPointSiteIdentifier\":\"A\",\"buildingClli\":null,\"regionCode\":\"N\",\"activityType\":null,\"cancellationReason\":null,\"product\":\"ASEoD\",\"quantity\":\"1\",\"nssEngagement\":null,\"designStatus\":\"N\",\"multiGigeIndicator\":null,\"alias\":\"loc1\",\"macdActionType\":null,\"lconDetails\":[{\"lconType\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null}],\"globalLocationId\":\"00001TKYFM\",\"jurisdiction\":\"Intrastate-TCORP\",\"certificationStatus\":null,\"designModifiedInd\":\"Y\",\"independentCarrierCompanyLATA\":null,\"independentCarrierCompanyName\":null,\"interDepartmentMeetPointChecklistURL\":null,\"diverseFromReferenceInfo\":null,\"opticalTerminatingNetworkCarrierFacilityAssignment\":null,\"collocationCarrierFacilityAssignment\":null,\"assetInvestmentSheetIndicator\":null,\"swcCertification\":\"Not Certified\",\"designVersion\":1,\"specialConstructionPaymentUrl\":null,\"thirdPartyInd\":\"Y\",\"accessCarrierNameAbbreviation\":null,\"design\":null,\"loopLength\":null,\"numOfCopperRepeaters\":null,\"inventoryNumOfPairs\":null,\"taskClli\":null,\"numberRemoteTerminals\":null,\"referenceOfferId\":null,\"siteNpanxx\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null}");

		designDetailList.add(nxDesignDetails);
		nxDesign.setNxDesignDetails(designDetailList);
		paramMap = new HashMap<>();
		createTransactionResponse = new CreateTransactionResponse();
		createTransactionResponse.setMyPriceTransacId("5657");
		createTransactionResponse.setNxTransacId(457L);
		createTransactionResponse.setPriceScenarioId(45L);
		String json = "{ \"siteId\": 99988948746, \"npanxx\": \"987654\", \"address1\": \"2051 MERCY DR\", \"city\": \"ORLANDO\", \"state\": \"FL\", \"macdType\": \"Change\", \"macdActivity\": \"Change Port Connection Speed;\", \"designSiteOfferPort\": [{ \"typeOfInventory\": \"From\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfId\": 200047, \"udfAttributeText\": [ \"7\" ] }, { \"udfAttributeId\": [ 301590 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KRE1\" ] } ] } ] }, { \"typeOfInventory\": \"To\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }, { \"udfAttributeId\": [ 30515 ], \"udfId\": 20017, \"udfAttributeText\": [ \"AVPN\" ] } ] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfAttributeId\": [ 301607 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KSED\" ] }] } ] } ], \"priceDetails\": { \"componentDetails\": [{ \"componentId\": 99988948746, \"componentType\": \"Site\", \"componentParentId\": 6511617, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [] }, { \"componentId\": 9270724, \"componentType\": \"Port\", \"componentParentId\": 99988948746, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [{ \"productRateId\": 0, \"beid\": \"OEMXG\", \"priceCatalog\": \"Standard Pricing\", \"localListPrice\": 8000, \"targetListPrice\": 8000, \"priceType\": \"PORT\", \"priceUnit\": \"Month\", \"frequency\": \"MRC\", \"quantity\": \"1\", \"localNetPrice\": 8000, \"targetNetPrice\": 8000, \"localTotalPrice\": 8000, \"localCurrency\": \"USD\", \"targetCurrency\": \"USD\", \"rdsPriceType\": \"Port\", \"priceName\": \"OEM_Port - 10 Gb - 12\", \"priceInUSD\": \"8000\", \"priceScenarioId\": 99999908428, \"rateGroup\": \"OEM_Port\", \"priceCompType\": \"ASE\" }] } ] }, \"siteName\": \"loc1\", \"asrItemId\": \"R00002034839\", \"lataCode\": \"458\", \"zipCode\": \"36740\", \"endPointSiteIdentifier\": \"A\", \"regionCode\": \"Y\", \"quantity\": \"1\", \"designStatus\": \"N\", \"alias\": \"loc1\", \"lconDetails\": [{}], \"globalLocationId\": \"000006ZFMP\", \"jurisdiction\": \"FCC\", \"swcCertification\": \"Certified\", \"designVersion\": \"1\" }";
		mapper = new ObjectMapper();
		siteJson = mapper.readTree(json);
		asrItemId="ADER890";
		nxDesignIdListToUpdate= new ArrayList<>();
		getTransactionLineResponse = new GetTransactionLineResponse();
		getTransactionLineResponse.setCount(3L);
		getTransactionLineResponse.setHasMore(false);
		getTransactionLineResponse.setOffset(0L);
		getTransactionLineResponse.setLimit(1000L);
		List<GetTransactionLineItem> getTransactionLineItemlist= new ArrayList<>();
		GetTransactionLineItem getTransactionLineItem1 = new GetTransactionLineItem();
		getTransactionLineItem1.setDocumentNumber("6");
		getTransactionLineItem1.setBomId("BOM_Solution");
		getTransactionLineItemlist.add(getTransactionLineItem1);

		GetTransactionLineItem getTransactionLineItem2 = new GetTransactionLineItem();
		getTransactionLineItem2.setDocumentNumber("7");
		getTransactionLineItem2.setParentDocNumber("6");
		getTransactionLineItem2.setParentLineitem("Solution");
		getTransactionLineItem2.setBomParentId("BOM_Solution");
		getTransactionLineItem2.setModelAsr("100002034841");
		getTransactionLineItemlist.add(getTransactionLineItem2);

		GetTransactionLineItem getTransactionLineItem3 = new GetTransactionLineItem();
		getTransactionLineItem3.setDocumentNumber("8");
		getTransactionLineItem3.setParentDocNumber("7");
		getTransactionLineItem3.setBomParentId("BOM_ASE");
		getTransactionLineItem3.setUsocId("OEM1O");
		getTransactionLineItem3.setAsrItemId("100002034841");
		getTransactionLineItemlist.add(getTransactionLineItem3);
		

		GetTransactionLineItem getTransactionLineItem4 = new GetTransactionLineItem();
		getTransactionLineItem4.setDocumentNumber("9");
		getTransactionLineItem4.setParentDocNumber("7");
		getTransactionLineItem4.setBomParentId("BOM_ASE");
		getTransactionLineItem4.setUsocId("OEM1O");
		getTransactionLineItem4.setAsrItemId("100002034841");
		getTransactionLineItemlist.add(getTransactionLineItem4);
		
		getTransactionLineResponse.setItems(getTransactionLineItemlist);
	}

	@Test
	public void testRestConfigAndDesignNewTransaction() {
		paramMap.put(StringConstants.TRANSACTION_TYPE, StringConstants.TRANSACTION_TYPE_NEW);
		doNothing().when(configAndUpdateRestProcessingService).callMpConfigAndUpdate(Mockito.anyMap(),Mockito.anyString());
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASE_OFFER_NAME);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);
		
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ADE_OFFER_NAME);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);

		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASENOD_OFFER_NAME);
		paramMap.put(MyPriceConstants.SUB_OFFER_NAME, MyPriceConstants.ASENOD_IR);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);

		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASENOD_OFFER_NAME);
		paramMap.put(MyPriceConstants.SUB_OFFER_NAME, MyPriceConstants.ASENOD_3PA);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);

	}

	
	@Test
	public void testRestConfigAndDesignExistingCancelTransaction() throws IOException {
		paramMap.put(StringConstants.TRANSACTION_TYPE, StringConstants.TRANSACTION_TYPE_EXISTING);
		List<Long> nxSiteIds= new ArrayList(Arrays.asList(1L,2L));
		paramMap.put(MyPriceConstants.CURRENT_NX_SITE_ID,nxSiteIds);
		doNothing().when(configAndUpdateRestProcessingService).callMpConfigAndUpdate(Mockito.anyMap(),Mockito.anyString());
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASE_OFFER_NAME);
		String json = "{ \"siteId\": 99988948746, \"npanxx\": \"987654\", \"address1\": \"2051 MERCY DR\", \"city\": \"ORLANDO\", \"state\": \"FL\", \"macdType\": \"Change\", \"macdActivity\": \"Change Port Connection Speed;\", \"designSiteOfferPort\": [{ \"typeOfInventory\": \"From\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfId\": 200047, \"udfAttributeText\": [ \"7\" ] }, { \"udfAttributeId\": [ 301590 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KRE1\" ] } ] } ] }, { \"typeOfInventory\": \"To\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }, { \"udfAttributeId\": [ 30515 ], \"udfId\": 20017, \"udfAttributeText\": [ \"AVPN\" ] } ] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfAttributeId\": [ 301607 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KSED\" ] }] } ] } ], \"priceDetails\": { \"componentDetails\": [{ \"componentId\": 99988948746, \"componentType\": \"Site\", \"componentParentId\": 6511617, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [] }, { \"componentId\": 9270724, \"componentType\": \"Port\", \"componentParentId\": 99988948746, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [{ \"productRateId\": 0, \"beid\": \"OEMXG\", \"priceCatalog\": \"Standard Pricing\", \"localListPrice\": 8000, \"targetListPrice\": 8000, \"priceType\": \"PORT\", \"priceUnit\": \"Month\", \"frequency\": \"MRC\", \"quantity\": \"1\", \"localNetPrice\": 8000, \"targetNetPrice\": 8000, \"localTotalPrice\": 8000, \"localCurrency\": \"USD\", \"targetCurrency\": \"USD\", \"rdsPriceType\": \"Port\", \"priceName\": \"OEM_Port - 10 Gb - 12\", \"priceInUSD\": \"8000\", \"priceScenarioId\": 99999908428, \"rateGroup\": \"OEM_Port\", \"priceCompType\": \"ASE\" }] } ] }, \"siteName\": \"loc1\", \"asrItemId\": \"R00002034839\", \"lataCode\": \"458\", \"zipCode\": \"36740\", \"endPointSiteIdentifier\": \"A\", \"regionCode\": \"Y\", \"quantity\": \"1\", \"designStatus\": \"C\", \"alias\": \"loc1\", \"lconDetails\": [{}], \"globalLocationId\": \"000006ZFMP\", \"jurisdiction\": \"FCC\", \"swcCertification\": \"Certified\", \"designVersion\": \"1\" }";	
		JsonNode siteJson = mapper.readTree(json);
		Mockito.when(myPriceTransactionUtil.removeTransactionServiceLineImpl(Mockito.anyMap())).thenReturn(true);
		doNothing().when(myPriceTransactionUtil).deleteSiteFromSiteDic(Mockito.anyLong(),Mockito.any());
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);
	
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASENOD_OFFER_NAME);
		paramMap.put(MyPriceConstants.SUB_OFFER_NAME, MyPriceConstants.ASENOD_3PA);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson,asrItemId);
	
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ADE_OFFER_NAME);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson,asrItemId);
	
	}
	
	@Test
	public void testRestConfigAndDesignASEExistingNewTransaction() throws SalesBusinessException {
		paramMap.put(StringConstants.TRANSACTION_TYPE, StringConstants.TRANSACTION_TYPE_EXISTING);
		doNothing().when(configAndUpdateRestProcessingService).callMpConfigAndUpdate(Mockito.anyMap(),Mockito.anyString());
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASE_OFFER_NAME);
		Mockito.when( getTransactionLineServiceImpl.getTransactionLineConfigDesignBasedOnField(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyString(), Mockito.anyLong(), Mockito.anyString(), anyMap(), Mockito.anyString())).thenReturn(getTransactionLineResponse);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson,asrItemId);
	
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASENOD_OFFER_NAME);
		paramMap.put(MyPriceConstants.SUB_OFFER_NAME, MyPriceConstants.ASENOD_3PA);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson,asrItemId);
	}
	
	@Test
	public void testRestConfigAndDesignExistingUpdateTransaction() throws IOException, SalesBusinessException {
		paramMap.put(StringConstants.TRANSACTION_TYPE, StringConstants.TRANSACTION_TYPE_EXISTING);
		doNothing().when(configAndUpdateRestProcessingService).callMpConfigAndUpdate(Mockito.anyMap(),Mockito.anyString());
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASENOD_OFFER_NAME);
		paramMap.put(MyPriceConstants.SUB_OFFER_NAME, MyPriceConstants.ASENOD_3PA);
		String json = "{ \"siteId\": 99988948746, \"npanxx\": \"987654\", \"address1\": \"2051 MERCY DR\", \"city\": \"ORLANDO\", \"state\": \"FL\", \"macdType\": \"Change\", \"macdActivity\": \"Change Port Connection Speed;\", \"designSiteOfferPort\": [{ \"typeOfInventory\": \"From\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfId\": 200047, \"udfAttributeText\": [ \"7\" ] }, { \"udfAttributeId\": [ 301590 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KRE1\" ] } ] } ] }, { \"typeOfInventory\": \"To\", \"component\": [{ \"componentCodeId\": 10, \"componentCodeType\": \"Connection\", \"componentId\": 9270724, \"designDetails\": [{ \"udfAttributeId\": [ 30595 ], \"udfId\": 20030, \"udfAttributeText\": [ \"Primary\" ] }, { \"udfAttributeId\": [ 30515 ], \"udfId\": 20017, \"udfAttributeText\": [ \"AVPN\" ] } ] }, { \"componentCodeId\": 30, \"componentCodeType\": \"Port\", \"designDetails\": [{ \"udfAttributeId\": [ 301607 ], \"udfId\": 200143, \"udfAttributeText\": [ \"KSED\" ] }] } ] } ], \"priceDetails\": { \"componentDetails\": [{ \"componentId\": 99988948746, \"componentType\": \"Site\", \"componentParentId\": 6511617, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [] }, { \"componentId\": 9270724, \"componentType\": \"Port\", \"componentParentId\": 99988948746, \"componentAttributes\": [{ \"componentFieldName\": \"Country\", \"componentFieldValue\": \"US\" }], \"priceAttributes\": [{ \"productRateId\": 0, \"beid\": \"OEMXG\", \"priceCatalog\": \"Standard Pricing\", \"localListPrice\": 8000, \"targetListPrice\": 8000, \"priceType\": \"PORT\", \"priceUnit\": \"Month\", \"frequency\": \"MRC\", \"quantity\": \"1\", \"localNetPrice\": 8000, \"targetNetPrice\": 8000, \"localTotalPrice\": 8000, \"localCurrency\": \"USD\", \"targetCurrency\": \"USD\", \"rdsPriceType\": \"Port\", \"priceName\": \"OEM_Port - 10 Gb - 12\", \"priceInUSD\": \"8000\", \"priceScenarioId\": 99999908428, \"rateGroup\": \"OEM_Port\", \"priceCompType\": \"ASE\" }] } ] }, \"siteName\": \"loc1\", \"asrItemId\": \"R00002034839\", \"lataCode\": \"458\", \"zipCode\": \"36740\", \"endPointSiteIdentifier\": \"A\", \"regionCode\": \"Y\", \"quantity\": \"1\", \"designStatus\": \"U\", \"designModifiedInd\":\"Y\",\"alias\": \"loc1\", \"lconDetails\": [{}], \"globalLocationId\": \"000006ZFMP\", \"jurisdiction\": \"FCC\", \"swcCertification\": \"Certified\", \"designVersion\": \"1\" }";	
		JsonNode siteJson = mapper.readTree(json);
		Mockito.when( getTransactionLineServiceImpl.getTransactionLineConfigDesignBasedOnField(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyString(), Mockito.anyLong(), Mockito.anyString(), anyMap(), Mockito.anyString())).thenReturn(getTransactionLineResponse);
		Mockito.when(myPriceTransactionUtil.removeTransactionServiceLineImpl(Mockito.anyMap())).thenReturn(true);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson, asrItemId);
		
		paramMap.put(MyPriceConstants.OFFER_NAME,MyPriceConstants.ASE_OFFER_NAME);
		processPDtoMPRestUtil.restConfigAndDesign(createTransactionResponse, nxDesign, paramMap, siteJson,asrItemId);
	}
	
	@Test
	public void testIsRESTEnabledTrue() {
		List<NxLookupData> restProductDetails= new ArrayList<>();
		NxLookupData nxLookupData = new NxLookupData();
		nxLookupData.setCriteria("Y");
		restProductDetails.add(nxLookupData);
		Mockito.when(nxLookupDataRepository.findByDatasetNameAndItemIdAndDescription(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyString())).thenReturn(restProductDetails);
		processPDtoMPRestUtil.isRESTEnabled("ASE", "PD");
	}
	
	@Test
	public void testIsRESTEnabledFalse() {
		List<NxLookupData> restProductDetails= new ArrayList<>();
		NxLookupData nxLookupData = new NxLookupData();
		nxLookupData.setCriteria("N");
		restProductDetails.add(nxLookupData);
		Mockito.when(nxLookupDataRepository.findByDatasetNameAndItemIdAndDescription(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyString())).thenReturn(restProductDetails);
		processPDtoMPRestUtil.isRESTEnabled("ASENoD", "PD");
	}
	
	@Test
	public void testCallUpdatePricing() throws SalesBusinessException {
		Map<String,Object> designMap= new HashMap<>();
		designMap.put(MyPriceConstants.MP_TRANSACTION_ID,"56757");
		designMap.put(MyPriceConstants.OFFER_TYPE,"ASE" );
		designMap.put(MyPriceConstants.PRICE_UPDATE,"Y");
		designMap.put(MyPriceConstants.NX_SOLIUTION_ID, 231);
		designMap.put(MyPriceConstants.NX_TRANSACTION_ID,"576576");
        designMap.put(StringConstants.PRICE_SCENARIO_ID,"76876");
        UpdateTransactionPricingResponse UpdateTransactionPricingResponse = new UpdateTransactionPricingResponse();
     	Mockito.when(updateTransactionPricingServiceForSolutionImpl.updateTransactionPricingRequest(Mockito.anyMap())).thenReturn(UpdateTransactionPricingResponse);
        processPDtoMPRestUtil.callUpdatePricing(designMap,MyPriceConstants.AUDIT_UPDATE_PR_REST);
	
        designMap.put(MyPriceConstants.RESPONSE_STATUS, true);
        processPDtoMPRestUtil.callUpdatePricing(designMap,MyPriceConstants.AUDIT_UPDATE_PR_REST);

        designMap.put(MyPriceConstants.RESPONSE_STATUS, false);
        designMap.put(MyPriceConstants.UPDATE_PRICING_UNMATCHING_NX_DESIGN_IDS, new ArrayList<String>(Arrays.asList("34")));
        designMap.put(MyPriceConstants.UPDATE_PRICING_UNMATCHING_NX_DESIGN_IDS, new ArrayList<String>(Arrays.asList("34")));
        processPDtoMPRestUtil.callUpdatePricing(designMap,MyPriceConstants.AUDIT_UPDATE_PR_REST);

	}
	
	@Test
	public void testprocessConfigSolDesignResponseForADE() throws SalesBusinessException {
		Mockito.when( getTransactionLineServiceImpl.getTransactionLineConfigDesignBasedOnField(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyString(), Mockito.anyLong(), Mockito.anyString(), anyMap(), Mockito.anyString())).thenReturn(getTransactionLineResponse);
		List<NxSolutionDetail> solutionDetails = new ArrayList();
		NxSolutionDetail nxSolutionDetail = new NxSolutionDetail();
		solutionDetails.add(nxSolutionDetail);
		Mockito.when(nxSolutionDetailsRepository.findByNxSolutionId(Mockito.anyLong())).thenReturn(solutionDetails.get(0));
		List<NxDesign> nxDesignList = new ArrayList<>();
		NxDesign nxDesign = new NxDesign();
		nxDesign.setAsrItemId("100002034841");
		nxDesign.setNxDesignId(213L);
		nxDesignList.add(nxDesign);
		List<NxDesignDetails> nxDesignDetailsList = new ArrayList();
		NxDesignDetails nxDesignDetails = new NxDesignDetails();
		String designData="{\"typeOfInventory\":null,\"component\":[{\"componentCodeId\":1210,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Circuit\",\"componentId\":31013,\"externalField\":null,\"parentComponentId\":null,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[],\"udfId\":200188,\"readOnly\":null,\"udfAttributeText\":[\"KGGS\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30605],\"udfId\":200190,\"readOnly\":null,\"udfAttributeText\":[\"Yes\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200189,\"readOnly\":null,\"udfAttributeText\":[\"100\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":20186,\"readOnly\":null,\"udfAttributeText\":[\"KGL-\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[343047],\"udfId\":21085,\"readOnly\":null,\"udfAttributeText\":[\"Interstate/Intrastate USOC\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200118,\"readOnly\":null,\"udfAttributeText\":[\"FL\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200162,\"readOnly\":null,\"udfAttributeText\":[\"AD1031037\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301770],\"udfId\":200163,\"readOnly\":null,\"udfAttributeText\":[\"Add\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301773],\"udfId\":200164,\"readOnly\":null,\"udfAttributeText\":[\"Newstart Circuit\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200167,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200168,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301785],\"udfId\":200169,\"readOnly\":null,\"udfAttributeText\":[\"24 Months\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200170,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200172,\"readOnly\":null,\"udfAttributeText\":[\"1\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301789],\"udfId\":200174,\"readOnly\":null,\"udfAttributeText\":[\"10 GE LAN-PHY\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301820],\"udfId\":200176,\"readOnly\":null,\"udfAttributeText\":[\"Interstate (FCC) Access (Interstate)\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200180,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200184,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200185,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301845],\"udfId\":200216,\"readOnly\":null,\"udfAttributeText\":[\"Y\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200198,\"readOnly\":null,\"udfAttributeText\":[\"22\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":20781,\"readOnly\":null,\"udfAttributeText\":[\"0\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[302215],\"udfId\":200193,\"readOnly\":null,\"udfAttributeText\":[\"R\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200192,\"readOnly\":null,\"udfAttributeText\":[\"37772\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null}],\"routeTargets\":null,\"references\":[],\"siteObj\":null},{\"componentCodeId\":1220,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Endpoint\",\"componentId\":47197,\"externalField\":null,\"parentComponentId\":31013,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[343047],\"udfId\":21085,\"readOnly\":null,\"udfAttributeText\":[\"Interstate/Intrastate USOC\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":20187,\"readOnly\":null,\"udfAttributeText\":[\"02LNF.A02\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200118,\"readOnly\":null,\"udfAttributeText\":[\"FL\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301789],\"udfId\":200174,\"readOnly\":null,\"udfAttributeText\":[\"10 GE LAN-PHY\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301806],\"udfId\":200175,\"readOnly\":null,\"udfAttributeText\":[\"IR / IF End-User Customer\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301823],\"udfId\":200178,\"readOnly\":null,\"udfAttributeText\":[\"Unprotected\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301830],\"udfId\":200179,\"readOnly\":null,\"udfAttributeText\":[\"1310 - LR Single Mode Fiber (SMF)\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301848],\"udfId\":200205,\"readOnly\":null,\"udfAttributeText\":[\"IF\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[304240],\"udfId\":200208,\"readOnly\":null,\"udfAttributeText\":[null],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200212,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200213,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301845],\"udfId\":200216,\"readOnly\":null,\"udfAttributeText\":[\"Y\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301890],\"udfId\":200217,\"readOnly\":null,\"udfAttributeText\":[\"End-User Customer\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200218,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":21033,\"readOnly\":null,\"udfAttributeText\":[\"A\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605334],\"udfId\":21960,\"readOnly\":null,\"udfAttributeText\":[],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200160,\"readOnly\":null,\"udfAttributeText\":[\"ORLDFLLCH09\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200045,\"readOnly\":null,\"udfAttributeText\":[\"ORLDFLMA\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200192,\"readOnly\":null,\"udfAttributeText\":[\"37772\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301820],\"udfId\":200176,\"readOnly\":null,\"udfAttributeText\":[\"Interstate (FCC) Access (Interstate)\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301785],\"udfId\":200169,\"readOnly\":null,\"udfAttributeText\":[\"24 Months\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null}],\"routeTargets\":null,\"references\":[{\"referenceType\":\"Site\",\"referenceId\":99988939165}],\"siteObj\":{\"nxSiteId\":450224,\"siteId\":99988939165,\"npanxx\":\"990088\",\"address1\":\"315 E ROBINSON ST\",\"city\":\"ORL\",\"state\":\"FL\",\"saLecName\":null,\"speedId\":null,\"saLecSwClli\":null,\"popClli\":null,\"country\":\"US\",\"macdType\":null,\"macdActivity\":null,\"fromInventory\":null,\"dualSiteId\":null,\"onNetCheck\":null,\"ethernetVendor\":null,\"designSiteOfferPort\":null,\"priceDetails\":null,\"address\":null,\"postalCode\":null,\"siteName\":\"L1Z\",\"swcClli\":\"ORLDFLMA\",\"customerLocationClli\":\"ORLDFLLCH09\",\"active\":null,\"emc\":null,\"carrierHotel\":null,\"attComments\":null,\"newBuilding\":null,\"customerReference\":null,\"asrItemId\":null,\"lataCode\":\"458\",\"zipCode\":\"32802\",\"address2\":null,\"room\":null,\"floor\":null,\"building\":null,\"siteComment\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null,\"endPointSiteIdentifier\":\"A\",\"buildingClli\":null,\"regionCode\":\"Y\",\"activityType\":null,\"cancellationReason\":null,\"product\":null,\"quantity\":null,\"nssEngagement\":null,\"designStatus\":null,\"multiGigeIndicator\":null,\"alias\":\"L1Z\",\"macdActionType\":null,\"lconDetails\":[{\"lconType\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null}],\"globalLocationId\":null,\"jurisdiction\":null,\"certificationStatus\":null,\"designModifiedInd\":null,\"independentCarrierCompanyLATA\":null,\"independentCarrierCompanyName\":null,\"interDepartmentMeetPointChecklistURL\":null,\"diverseFromReferenceInfo\":null,\"opticalTerminatingNetworkCarrierFacilityAssignment\":null,\"collocationCarrierFacilityAssignment\":null,\"assetInvestmentSheetIndicator\":null,\"swcCertification\":null,\"designVersion\":null,\"specialConstructionPaymentUrl\":null,\"thirdPartyInd\":null,\"accessCarrierNameAbbreviation\":null,\"design\":null,\"loopLength\":null,\"numOfCopperRepeaters\":null,\"inventoryNumOfPairs\":null,\"taskClli\":null,\"numberRemoteTerminals\":null,\"referenceOfferId\":null,\"siteNpanxx\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null,\"_endPointRef\":21033}},{\"componentCodeId\":1220,\"fromInvYN\":null,\"logicalChannelPvcID\":null,\"eteVpnKey\":null,\"diversityGroupId\":null,\"componentCodeType\":\"Endpoint\",\"componentId\":47198,\"externalField\":null,\"parentComponentId\":31013,\"externalKeyRef\":null,\"mvlInd\":null,\"userEnteredVpn\":null,\"siteId\":null,\"logicalChannelId\":null,\"designDetails\":[{\"udfAttributeId\":[343047],\"udfId\":21085,\"readOnly\":null,\"udfAttributeText\":[\"Interstate/Intrastate USOC\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":20187,\"readOnly\":null,\"udfAttributeText\":[\"02LNF.A02\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200118,\"readOnly\":null,\"udfAttributeText\":[\"FL\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301789],\"udfId\":200174,\"readOnly\":null,\"udfAttributeText\":[\"10 GE LAN-PHY\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301806],\"udfId\":200175,\"readOnly\":null,\"udfAttributeText\":[\"IR / IF End-User Customer\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301823],\"udfId\":200178,\"readOnly\":null,\"udfAttributeText\":[\"Unprotected\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301830],\"udfId\":200179,\"readOnly\":null,\"udfAttributeText\":[\"1310 - LR Single Mode Fiber (SMF)\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301848],\"udfId\":200205,\"readOnly\":null,\"udfAttributeText\":[\"IF\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[304240],\"udfId\":200208,\"readOnly\":null,\"udfAttributeText\":[null],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200212,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200213,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301845],\"udfId\":200216,\"readOnly\":null,\"udfAttributeText\":[\"Y\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301890],\"udfId\":200217,\"readOnly\":null,\"udfAttributeText\":[\"End-User Customer\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[30604],\"udfId\":200218,\"readOnly\":null,\"udfAttributeText\":[\"No\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":21034,\"readOnly\":null,\"udfAttributeText\":[\"Z\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[605334],\"udfId\":21960,\"readOnly\":null,\"udfAttributeText\":[],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200160,\"readOnly\":null,\"udfAttributeText\":[\"ORLDFLLCH09\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200045,\"readOnly\":null,\"udfAttributeText\":[\"ORLDFLMA\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[],\"udfId\":200192,\"readOnly\":null,\"udfAttributeText\":[\"37772\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301820],\"udfId\":200176,\"readOnly\":null,\"udfAttributeText\":[\"Interstate (FCC) Access (Interstate)\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null},{\"udfAttributeId\":[301785],\"udfId\":200169,\"readOnly\":null,\"udfAttributeText\":[\"24 Months\"],\"defaultUdfAttributeId\":null,\"lovAttributeIdList\":null,\"udfValue\":null}],\"routeTargets\":null,\"references\":[{\"referenceType\":\"Site\",\"referenceId\":99988939167}],\"siteObj\":{\"nxSiteId\":450223,\"siteId\":99988939167,\"npanxx\":\"990088\",\"address1\":\"45 N MAGNOLIA AV\",\"city\":\"ORL\",\"state\":\"FL\",\"saLecName\":null,\"speedId\":null,\"saLecSwClli\":null,\"popClli\":null,\"country\":\"US\",\"macdType\":\"Add\",\"macdActivity\":\"Newstart Circuit\",\"fromInventory\":null,\"dualSiteId\":null,\"onNetCheck\":null,\"ethernetVendor\":null,\"designSiteOfferPort\":null,\"priceDetails\":null,\"address\":null,\"postalCode\":null,\"siteName\":\"L 1A\",\"swcClli\":\"ORLDFLMA\",\"customerLocationClli\":\"ORLDFLLCH09\",\"active\":null,\"emc\":null,\"carrierHotel\":null,\"attComments\":null,\"newBuilding\":null,\"customerReference\":null,\"asrItemId\":\"AD1031033\",\"lataCode\":\"458\",\"zipCode\":\"32802\",\"address2\":null,\"room\":null,\"floor\":null,\"building\":null,\"siteComment\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null,\"endPointSiteIdentifier\":\"Z\",\"buildingClli\":null,\"regionCode\":\"Y\",\"activityType\":\"New Request\",\"cancellationReason\":null,\"product\":null,\"quantity\":\"1\",\"nssEngagement\":null,\"designStatus\":\"N\",\"multiGigeIndicator\":null,\"alias\":\"L 1A\",\"macdActionType\":null,\"lconDetails\":[{\"lconType\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null}],\"globalLocationId\":null,\"jurisdiction\":\"Interstate (FCC) Access (Interstate)\",\"certificationStatus\":null,\"designModifiedInd\":null,\"independentCarrierCompanyLATA\":null,\"independentCarrierCompanyName\":null,\"interDepartmentMeetPointChecklistURL\":null,\"diverseFromReferenceInfo\":null,\"opticalTerminatingNetworkCarrierFacilityAssignment\":null,\"collocationCarrierFacilityAssignment\":null,\"assetInvestmentSheetIndicator\":null,\"swcCertification\":null,\"designVersion\":\"1\",\"specialConstructionPaymentUrl\":null,\"thirdPartyInd\":null,\"accessCarrierNameAbbreviation\":null,\"design\":null,\"loopLength\":null,\"numOfCopperRepeaters\":null,\"inventoryNumOfPairs\":null,\"taskClli\":null,\"numberRemoteTerminals\":null,\"referenceOfferId\":null,\"siteNpanxx\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null,\"_endPointRef\":21034}}],\"designStatus\":\"N\",\"cancellationReason\":null,\"priceDetails\":{\"componentDetails\":[{\"componentCodeId\":null,\"componentCodeType\":null,\"componentId\":31013,\"componentType\":\"Circuit\",\"componentParentId\":6900459,\"componentAttributes\":[],\"priceAttributes\":[{\"productRateId\":0,\"beid\":\"EYXCX-ORCMX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":60.0,\"targetListPrice\":60.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Administrative Charge - Per Order\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":60.0,\"targetNetPrice\":60.0,\"localTotalPrice\":60.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Administrative Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"60\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Administrative Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":1.2,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-ORCMX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":60.0,\"targetListPrice\":60.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Administrative Charge - Per Order\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":60.0,\"targetNetPrice\":60.0,\"localTotalPrice\":60.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Administrative Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"60\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Administrative Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":60.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-ORCMX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":60.0,\"targetListPrice\":60.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Administrative Charge - Per Order\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":60.0,\"targetNetPrice\":60.0,\"localTotalPrice\":60.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Administrative Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"60\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Administrative Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":60.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBCL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":600.0,\"targetListPrice\":600.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Design Central Office Connection Charge - Per Circuit\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":600.0,\"targetNetPrice\":600.0,\"localTotalPrice\":600.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Design Central Office Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"600\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Design Central Office Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":12.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBCL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":600.0,\"targetListPrice\":600.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Design Central Office Connection Charge - Per Circuit\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":600.0,\"targetNetPrice\":600.0,\"localTotalPrice\":600.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Design Central Office Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"600\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Design Central Office Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBCL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":600.0,\"targetListPrice\":600.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"CIRCUIT\",\"priceUnit\":\"Design Central Office Connection Charge - Per Circuit\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":600.0,\"targetNetPrice\":600.0,\"localTotalPrice\":600.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Design Central Office Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"600\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Design Central Office Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null}],\"scpPriceMessages\":null},{\"componentCodeId\":null,\"componentCodeType\":null,\"componentId\":47197,\"componentType\":\"Endpoint\",\"componentParentId\":31013,\"componentAttributes\":[],\"priceAttributes\":[{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":220.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":30.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null}],\"scpPriceMessages\":null},{\"componentCodeId\":null,\"componentCodeType\":null,\"componentId\":47198,\"componentType\":\"Endpoint\",\"componentParentId\":31013,\"componentAttributes\":[],\"priceAttributes\":[{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":220.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-EYFNX\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":11000.0,\"targetListPrice\":11000.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Port Connection\",\"frequency\":\"MRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":11000.0,\"targetNetPrice\":11000.0,\"localTotalPrice\":11000.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Port Connection Type - 10 GE (LAN-PHY & WAN-PHY) - 24M\",\"typeOfInventory\":null,\"priceInUSD\":\"11000\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Port Connection\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905580,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":\"Y\",\"requestedDiscount\":98.0,\"requestedRate\":30.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905579,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null},{\"productRateId\":0,\"beid\":\"EYXCX-NRBBL\",\"rateDescription\":null,\"priceCatalog\":\"Standard Pricing\",\"localListPrice\":1500.0,\"targetListPrice\":1500.0,\"icbDesiredDiscPerc\":null,\"priceType\":\"PORT_CONNECTION\",\"priceUnit\":\"Customer Connection Charge\",\"frequency\":\"NRC\",\"monthlySurcharge\":null,\"discount\":null,\"discountId\":null,\"quantity\":\"1\",\"localNetPrice\":1500.0,\"targetNetPrice\":1500.0,\"localTotalPrice\":1500.0,\"targetTotalPrice\":null,\"localCurrency\":\"USD\",\"targetCurrency\":\"USD\",\"rdsPriceType\":null,\"priceName\":\"Customer Connection Charge  - NRC\",\"typeOfInventory\":null,\"priceInUSD\":\"1500\",\"priceScenarioId\":99999905578,\"rateGroup\":\"Customer Connection Charge\",\"externalBillingSystem\":null,\"ratePlanId\":null,\"priceCompType\":null,\"pvcId\":null,\"chargeCodeId\":null,\"requestedNRCRate\":null,\"requestedNRCDiscPercentage\":null,\"requestedMRCRate\":null,\"requestedMRCDiscPercentage\":null,\"priceModifiedInd\":null,\"requestedDiscount\":0.0,\"requestedRate\":0.0,\"term\":24,\"priceGroup\":null,\"referencePortId\":null,\"componentType\":null,\"componentParentId\":null,\"country\":null,\"secondaryKeys\":null,\"lineItemId\":null,\"nrcBeid\":null,\"uniqueId\":null,\"elementType\":null,\"reqPriceType\":null}],\"scpPriceMessages\":null}],\"priceMessage\":null},\"purchaseOrderNumber\":null,\"designModifiedInd\":null,\"designVersion\":1,\"icsc\":null,\"nssEngagement\":null,\"accessCarrierNameAbbreviation\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null,\"site\":[{\"nxSiteId\":450224,\"siteId\":99988939165,\"npanxx\":\"990088\",\"address1\":\"315 E ROBINSON ST\",\"city\":\"ORL\",\"state\":\"FL\",\"saLecName\":null,\"speedId\":null,\"saLecSwClli\":null,\"popClli\":null,\"country\":\"US\",\"macdType\":null,\"macdActivity\":null,\"fromInventory\":null,\"dualSiteId\":null,\"onNetCheck\":null,\"ethernetVendor\":null,\"designSiteOfferPort\":null,\"priceDetails\":null,\"address\":null,\"postalCode\":null,\"siteName\":\"L1Z\",\"swcClli\":\"ORLDFLMA\",\"customerLocationClli\":\"ORLDFLLCH09\",\"active\":null,\"emc\":null,\"carrierHotel\":null,\"attComments\":null,\"newBuilding\":null,\"customerReference\":null,\"asrItemId\":null,\"lataCode\":\"458\",\"zipCode\":\"32802\",\"address2\":null,\"room\":null,\"floor\":null,\"building\":null,\"siteComment\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null,\"endPointSiteIdentifier\":\"A\",\"buildingClli\":null,\"regionCode\":\"Y\",\"activityType\":null,\"cancellationReason\":null,\"product\":null,\"quantity\":null,\"nssEngagement\":null,\"designStatus\":null,\"multiGigeIndicator\":null,\"alias\":\"L1Z\",\"macdActionType\":null,\"lconDetails\":[{\"lconType\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null}],\"globalLocationId\":null,\"jurisdiction\":null,\"certificationStatus\":null,\"designModifiedInd\":null,\"independentCarrierCompanyLATA\":null,\"independentCarrierCompanyName\":null,\"interDepartmentMeetPointChecklistURL\":null,\"diverseFromReferenceInfo\":null,\"opticalTerminatingNetworkCarrierFacilityAssignment\":null,\"collocationCarrierFacilityAssignment\":null,\"assetInvestmentSheetIndicator\":null,\"swcCertification\":null,\"designVersion\":null,\"specialConstructionPaymentUrl\":null,\"thirdPartyInd\":null,\"accessCarrierNameAbbreviation\":null,\"design\":null,\"loopLength\":null,\"numOfCopperRepeaters\":null,\"inventoryNumOfPairs\":null,\"taskClli\":null,\"numberRemoteTerminals\":null,\"referenceOfferId\":null,\"siteNpanxx\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null,\"_endPointRef\":21033},{\"nxSiteId\":450223,\"siteId\":99988939167,\"npanxx\":\"990088\",\"address1\":\"45 N MAGNOLIA AV\",\"city\":\"ORL\",\"state\":\"FL\",\"saLecName\":null,\"speedId\":null,\"saLecSwClli\":null,\"popClli\":null,\"country\":\"US\",\"macdType\":\"Add\",\"macdActivity\":\"Newstart Circuit\",\"fromInventory\":null,\"dualSiteId\":null,\"onNetCheck\":null,\"ethernetVendor\":null,\"designSiteOfferPort\":null,\"priceDetails\":null,\"address\":null,\"postalCode\":null,\"siteName\":\"L 1A\",\"swcClli\":\"ORLDFLMA\",\"customerLocationClli\":\"ORLDFLLCH09\",\"active\":null,\"emc\":null,\"carrierHotel\":null,\"attComments\":null,\"newBuilding\":null,\"customerReference\":null,\"asrItemId\":\"AD1031033\",\"lataCode\":\"458\",\"zipCode\":\"32802\",\"address2\":null,\"room\":null,\"floor\":null,\"building\":null,\"siteComment\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null,\"endPointSiteIdentifier\":\"Z\",\"buildingClli\":null,\"regionCode\":\"Y\",\"activityType\":\"New Request\",\"cancellationReason\":null,\"product\":null,\"quantity\":\"1\",\"nssEngagement\":null,\"designStatus\":\"N\",\"multiGigeIndicator\":null,\"alias\":\"L 1A\",\"macdActionType\":null,\"lconDetails\":[{\"lconType\":null,\"lconFirstName\":null,\"lconLastName\":null,\"lconPhone\":null,\"lconEmail\":null}],\"globalLocationId\":null,\"jurisdiction\":\"Interstate (FCC) Access (Interstate)\",\"certificationStatus\":null,\"designModifiedInd\":null,\"independentCarrierCompanyLATA\":null,\"independentCarrierCompanyName\":null,\"interDepartmentMeetPointChecklistURL\":null,\"diverseFromReferenceInfo\":null,\"opticalTerminatingNetworkCarrierFacilityAssignment\":null,\"collocationCarrierFacilityAssignment\":null,\"assetInvestmentSheetIndicator\":null,\"swcCertification\":null,\"designVersion\":\"1\",\"specialConstructionPaymentUrl\":null,\"thirdPartyInd\":null,\"accessCarrierNameAbbreviation\":null,\"design\":null,\"loopLength\":null,\"numOfCopperRepeaters\":null,\"inventoryNumOfPairs\":null,\"taskClli\":null,\"numberRemoteTerminals\":null,\"referenceOfferId\":null,\"siteNpanxx\":null,\"specialConstructionCharge\":null,\"specialConstructionHandling\":null,\"specialConstructionHandlingNotes\":null,\"_endPointRef\":21034}]}";
		nxDesignDetails.setDesignData(designData);
		nxDesignDetailsList.add(nxDesignDetails);
		nxDesign.setNxDesignDetails(nxDesignDetailsList);
		Mockito.when(nxDesignRepository.findByNxSolutionDetail(Mockito.any())).thenReturn(nxDesignList);
		Mockito.when( getTransactionLineServiceImpl.getTransactionLineConfigDesignSolution(Mockito.anyString(),
				Mockito.anyString(),Mockito.anyLong(), anyMap())).thenReturn(getTransactionLineResponse);
		createTransactionResponse.setPriceScenarioId(99999905580L);
		List<String> offerList=new ArrayList<String>();
		offerList.add(StringConstants.OFFERNAME_ADE);
		processPDtoMPRestUtil.processConfigSolDesignResponse(paramMap,createTransactionResponse,
				StringConstants.OFFERNAME_ADE,null,21,null,null,offerList,null);
	}
	
	@Test
	public void testDerivedComponentIdForAde()  {
		GetTransactionLineItem result = new GetTransactionLineItem();
		result.setModelVariableName("ADE");
		result.setParentDocNumber("2");
		result.setNxSiteId("1231");
		result.setUsocId("EZXO");
		Map<String,Object> methodParam = new HashMap<String,Object>();
		methodParam.put(MyPriceConstants.NX_DESIGN_ID, 1234L);
		methodParam.put(MyPriceConstants.OFFER_NAME, "ADE");
		methodParam.put(MyPriceConstants.MP_SOLUTION_ID, "2");
		methodParam.put(MyPriceConstants.ENDPOINT_A_NX_SITE_ID, "1231");
		methodParam.put(MyPriceConstants.ENDPOINT_Z_NX_SITE_ID, "1232");
		methodParam.put(MyPriceConstants.CIRCUIT_BEID, new ArrayList<String>() {{add("EZXO");}});
		methodParam.put(MyPriceConstants.CIRCUIT_COMPONENT_ID, "12333");
		processPDtoMPRestUtil.derivedComponentIdForAde(methodParam, result);
		
		methodParam.remove(MyPriceConstants.CIRCUIT_BEID);
		methodParam.put(MyPriceConstants.ENDPOINT_A_BEID, new ArrayList<String>() {{add("EZXO");}});
		methodParam.put(MyPriceConstants.ENDPOINT_A_COMPONENT_ID, "12333");
		processPDtoMPRestUtil.derivedComponentIdForAde(methodParam, result);
		
		methodParam.remove(MyPriceConstants.ENDPOINT_A_BEID);
		methodParam.put(MyPriceConstants.ENDPOINT_Z_BEID, new ArrayList<String>() {{add("EZXO");}});
		methodParam.put(MyPriceConstants.ENDPOINT_Z_COMPONENT_ID, "12333");
		processPDtoMPRestUtil.derivedComponentIdForAde(methodParam, result);
		
		result.setNxSiteId("1232");
		result.setUsocId("EZXO");
		methodParam.put(MyPriceConstants.ENDPOINT_Z_BEID, new ArrayList<String>() {{add("EZXO");}});
		methodParam.put(MyPriceConstants.ENDPOINT_Z_COMPONENT_ID, "12333");
		processPDtoMPRestUtil.derivedComponentIdForAde(methodParam, result);
		
	}
	
	@Test
	public void testGetErrorDetails() {
		Map<String, Object> requestMap = new HashMap();
		processPDtoMPRestUtil.getErrorDetails(requestMap);
		
		requestMap.put(MyPriceConstants.RESPONSE_STATUS, false);
		requestMap.put(CustomJsonConstants.ERROR_WS_NAME,"ConfigDesign");
		requestMap.put(CustomJsonConstants.REST_RESPONSE_ERROR,"RestError");
		requestMap.put(CustomJsonConstants.CONFIG_BOM_ERROR_DATA, "CONFIG_BOM_ERROR_DATA");
		requestMap.put(CustomJsonConstants.SITE_CONFIG_ERROR_MAP, "SITE_CONFIG_ERROR_MAP");
		processPDtoMPRestUtil.getErrorDetails(requestMap);
	}
	
	@Test
	public void testConfigSolutionDesign() {
		Map<String, Object> requestMap = new HashMap();
		requestMap.put(MyPriceConstants.RESPONSE_STATUS, true);
		doNothing().when(configAndUpdateRestProcessingService).callMpConfigAndUpdate(Mockito.anyMap(),Mockito.anyString());
		processPDtoMPRestUtil.configSolutionDesign(requestMap,"RESTTransaction",nxDesign,"inputDesign");

		requestMap.put(MyPriceConstants.RESPONSE_STATUS, false);
		requestMap.put(CustomJsonConstants.CONFIG_BOM_ERROR,"CONFIG_BOM_ERROR");
		processPDtoMPRestUtil.configSolutionDesign(requestMap,"RESTTransaction",nxDesign,"inputDesign");

		requestMap.put(MyPriceConstants.RESPONSE_STATUS, false);
		requestMap.put(CustomJsonConstants.SITE_CONFIG_ERROR, "SITE_CONFIG_ERROR");
		processPDtoMPRestUtil.configSolutionDesign(requestMap,"RESTTransaction",nxDesign,"inputDesign");

	
	}
	
	@Test
	public void testRemoveTransactionByMpsolutionid() throws SalesBusinessException {
		Map<String, Object> designMap = new HashMap<String, Object>();
		designMap.put(MyPriceConstants.NX_TRANSACTION_ID, 101l) ;
		List<Long> nxDesignId = new ArrayList<>();
		nxDesignId.add(1l);
		designMap.put(MyPriceConstants.NX_DESIGN_ID_LIST, nxDesignId);
		Set<Long> mpSolutionIds = new HashSet<>();
		mpSolutionIds.add(2l);
		designMap.put(MyPriceConstants.MP_SOLUTION_ID_LIST, mpSolutionIds);
		
		Mockito.when(removeTransactionServiceLineImpl.removeTransactionLine(anyMap())).thenReturn(new RemoveTransactionLineResponse());
		doNothing().when(nxMpPriceDetailsRepository).deleteDataByNxTxnIdAndNxDesignId(anyLong(), anyList());
		doNothing().when(nxMpDesignDocumentRepo).deleteDataByNxTxnIdAndNxDesignId(anyLong(), anyList());
		processPDtoMPRestUtil.removeTransactionByMpsolutionid(designMap);
	}
	
	@Test
	public void testRemoveTransactionByMpsolutionidExc() throws SalesBusinessException {
		Map<String, Object> designMap = new HashMap<String, Object>();
		designMap.put(MyPriceConstants.NX_TRANSACTION_ID, 101l) ;
		List<Long> nxDesignId = new ArrayList<>();
		nxDesignId.add(1l);
		designMap.put(MyPriceConstants.NX_DESIGN_ID_LIST, nxDesignId);
		Set<Long> mpSolutionIds = new HashSet<>();
		mpSolutionIds.add(2l);
		designMap.put(MyPriceConstants.MP_SOLUTION_ID_LIST, mpSolutionIds);
		
		Mockito.when(removeTransactionServiceLineImpl.removeTransactionLine(anyMap())).thenThrow(new SalesBusinessException());
		processPDtoMPRestUtil.removeTransactionByMpsolutionid(designMap);
	}

}
